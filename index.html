<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Tailwind CSS CDN -->
<script src="https://cdn.tailwindcss.com"></script>

    <style>
  /* Fix header/logo appearing faded behind 3D background */
  canvas, #three-background, #threejs-bg {
    z-index: 0 !important;
    position: fixed !important;
    top: 0;
    left: 0;
  }

  #header {
    position: relative;
    z-index: 50 !important;
  }

  #header * {
    position: relative;
    z-index: 51 !important;
    opacity: 1 !important;
  }

  main {
    position: relative;
    z-index: 10 !important;
  }
  /* âœ¨ Smooth Toast Animation */
  #toast {
    opacity: 0;
    transform: translateY(-20px);
    transition: all 0.4s ease;
  }

  #toast.show {
    opacity: 1;
    transform: translateY(0);
  }
 /* ðŸ§± Fix cart drawer layering */
  #cart-drawer {
    z-index: 9999 !important;
    background-color: white;
  }

  /* ðŸ§± Fix checkout modal layering */
  #checkout-modal {
    z-index: 10000 !important;
  }

  /* ðŸ§± Prevent main background interference when drawer is open */
  body.drawer-open main {
    filter: blur(3px);
    pointer-events: none;
    user-select: none;
  }
</style>

<!-- Google Font (Inter) -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<!-- AOS (scroll animations, optional if Gemini used it) -->
<link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script>
  AOS.init();
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RoboTechnique - Premium Robotics & IoT Shop</title>
    <link rel="icon" href="logo.jpg">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: #374151;
            background-color: #ffffff;
        }

        /* Custom Styles */
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .scroll-fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .scroll-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .product-card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .product-card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(255, 127, 80, 0.1), 0 8px 10px -6px rgba(255, 127, 80, 0.1);
        }

        /* Custom Logo Styling */
        .half-color-t {
            background-image: linear-gradient(to right, #111827 50%, #38bdf8 50%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
            display: inline-block;
            font-weight: 900;
        }

        .half-color-t-dark {
            background-image: linear-gradient(to right, #f3f4f6 50%, #7dd3fc 50%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
            display: inline-block;
            font-weight: 900;
        }

        .header-scrolled {
            background-color: rgba(255, 255, 255, 0.95) !important;
            backdrop-filter: blur(12px) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .toast-enter {
            animation: toastIn 0.3s forwards;
            opacity: 0;
            transform: translateX(100%);
        }
        @keyframes toastIn {
            0% { transform: translateX(100%); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
        }

        .modal-backdrop {
            background-color: rgba(17, 24, 39, 0.85);
        }

        .full-page-content {
            min-height: calc(100vh - 80px);
        }

        /* Utility Classes */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.75rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .btn-primary {
            background-color: #f97316;
            color: white;
        }

        .btn-primary:hover {
            background-color: #ea580c;
            transform: scale(1.05);
        }

        .btn-secondary {
            background-color: #0ea5e9;
            color: white;
        }

        .btn-secondary:hover {
            background-color: #0284c7;
        }

        .grid {
            display: grid;
            gap: 1.5rem;
        }

        .grid-cols-1 { grid-template-columns: repeat(1, 1fr); }
        .grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-cols-4 { grid-template-columns: repeat(4, 1fr); }

        @media (min-width: 768px) {
            .md\\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
            .md\\:flex { display: flex; }
            .md\\:hidden { display: none; }
        }

        @media (min-width: 1024px) {
            .lg\\:grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #0ea5e9;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #0284c7;
        }
    </style>
</head>
<body>
    <!-- Three.js Background -->
    <div id="three-background" class="fixed top-0 left-0 w-full h-full z-0 pointer-events-none opacity-90" style="background-color: #f9fafb;"></div>

    <!-- Cart Drawer -->
    <div id="cart-drawer" class="fixed top-0 right-0 h-full w-full sm:w-96 bg-white shadow-2xl z-70 transition-transform duration-400 ease-out flex flex-col translate-x-full">
        <!-- Cart content will be inserted here by JavaScript -->
    </div>

    <!-- Checkout Modal -->
    <div id="checkout-modal" class="fixed inset-0 z-80 flex items-center justify-center modal-backdrop transition-opacity duration-300 hidden">
        <!-- Modal content will be inserted here by JavaScript -->
    </div>

    <!-- Toast Notification -->
     <div id="toast" class="fixed top-20 right-6 z-[60] p-4 bg-sky-600 text-white rounded-xl shadow-2xl flex items-center space-x-3 border-b-4 border-orange-300">
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap w-5 h-5 animate-pulse"><path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"></path></svg>
       <span class="font-semibold">Item added to cart!</span>
    </div>

    <!-- Navigation -->
    <header id="header" class="sticky top-0 bg-white bg-opacity-95 backdrop-blur-sm shadow-lg z-50 transition-all duration-300">
    <nav class="container">
  <div class="flex justify-between items-center h-20">

    <!-- Logo (slightly larger & moved left) -->
    <div class="flex items-center gap-3 -ml-3">
      <div class="h-14 w-14 flex items-center justify-center">
        <img src="./logo.jpg" alt="RoboTechnique Logo" class="h-12 w-auto object-contain">
      </div>
      <a href="#" class="text-3xl font-extrabold tracking-tight">
        <span class="text-gray-900">Robo</span>
        <span class="half-color-t">T</span>
        <span class="text-sky-500">echnique</span>
      </a>
    </div>

    <!-- Centered Navigation Links -->
    <div class="flex-1 flex justify-center">
      <div class="hidden md:flex space-x-10">
        <a href="#home" class="text-gray-600 hover:text-sky-600 transition duration-150 font-medium py-1 border-b-2 border-transparent hover:border-sky-500">Home</a>
        <a href="#shop" class="text-gray-600 hover:text-sky-600 transition duration-150 font-medium py-1 border-b-2 border-transparent hover:border-sky-500">Shop</a>
        <a href="#brand" class="text-gray-600 hover:text-sky-600 transition duration-150 font-medium py-1 border-b-2 border-transparent hover:border-sky-500">Brand</a>
        <a href="#contact" class="text-gray-600 hover:text-sky-600 transition duration-150 font-medium py-1 border-b-2 border-transparent hover:border-sky-500">Contact</a>
      </div>
    </div>

    <!-- Cart & Mobile Menu -->
    <div class="flex items-center space-x-4">
      <button id="cart-button" class="relative p-2 rounded-full text-gray-600 hover:text-orange-500 transition duration-200">
        <i data-lucide="shopping-cart" class="h-7 w-7"></i>
        <span id="cart-count" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-orange-500 rounded-full hidden">0</span>
      </button>

      <button id="mobile-menu-button" class="md:hidden p-2 rounded-md text-gray-600 hover:text-orange-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-orange-500">
        <i data-lucide="menu" class="h-6 w-6"></i>
      </button>
    </div>
  </div>
</nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="md:hidden absolute w-full bg-white shadow-xl transition-all duration-300 h-0 opacity-0 overflow-hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#home" class="block px-3 py-2 rounded-lg text-base font-medium text-gray-700 hover:bg-sky-50 hover:text-sky-600">Home</a>
                <a href="#shop" class="block px-3 py-2 rounded-lg text-base font-medium text-gray-700 hover:bg-sky-50 hover:text-sky-600">Shop</a>
                <a href="#brand" class="block px-3 py-2 rounded-lg text-base font-medium text-gray-700 hover:bg-sky-50 hover:text-sky-600">Brand</a>
                <a href="#contact" class="block px-3 py-2 rounded-lg text-base font-medium text-gray-700 hover:bg-sky-50 hover:text-sky-600">Contact</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="relative z-10 full-page-content">
        <!-- Hero Section -->
        <section id="home" class="pt-24 pb-32 sm:pt-32 sm:pb-48 container text-center">
            <div class="scroll-fade-in">
                <p class="text-base font-semibold text-orange-600 mb-3 tracking-wide uppercase">The Future Is Modular</p>
                <h1 class="text-6xl sm:text-7xl lg:text-8xl font-extrabold tracking-tight mb-6 text-gray-900 leading-tight">
                    Premium Robotics & <span class="text-sky-600">IoT Components</span>
                </h1>
                <p class="text-xl sm:text-2xl text-gray-600 max-w-4xl mx-auto mb-10">
                    Engineered for precision and built for the next generation of automation projects.
                </p>
                <a href="#shop" class="btn btn-primary inline-flex items-center px-10 py-4 rounded-full shadow-2xl ring-4 ring-orange-500/30">
                    Shop The Collection
                    <i data-lucide="arrow-right" class="w-5 h-5 ml-2"></i>
                </a>
            </div>
        </section>
        
        <!-- About/Brand Section -->
        <section id="brand" class="py-20 sm:py-32">
            <div class="container">
                <div class="lg:flex lg:space-x-12">
                    <div class="lg:w-1/2">
                        <div class="scroll-fade-in">
                            <h2 class="text-4xl sm:text-5xl font-extrabold text-gray-800 mb-6 leading-snug">
                                Crafting the <span class="text-sky-600">Foundation</span> of Automation
                            </h2>
                        </div>
                    </div>
                    <div class="lg:w-1/2 mt-8 lg:mt-0 space-y-8">
                        <div class="scroll-fade-in">
                            <div class="flex items-start space-x-4">
                                <i data-lucide="trending-up" class="w-8 h-8 text-orange-500 flex-shrink-0 mt-1"></i>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">Uncompromising Quality</h3>
                                    <p class="mt-1 text-gray-600">Every component is tested under extreme conditions to ensure reliability and superior performance.</p>
                                </div>
                            </div>
                        </div>
                        <div class="scroll-fade-in">
                            <div class="flex items-start space-x-4">
                                <i data-lucide="zap" class="w-8 h-8 text-orange-500 flex-shrink-0 mt-1"></i>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">Seamless Integration</h3>
                                    <p class="mt-1 text-gray-600">Designed for open standards with plug-and-play compatibility across popular platforms.</p>
                                </div>
                            </div>
                        </div>
                        <div class="scroll-fade-in">
                            <div class="flex items-start space-x-4">
                                <i data-lucide="atom" class="w-8 h-8 text-orange-500 flex-shrink-0 mt-1"></i>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">Future-Proofed Technology</h3>
                                    <p class="mt-1 text-gray-600">Incorporating the latest in Edge AI and decentralized control for next-gen projects.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Product Showcase Section -->
        <section id="shop" class="py-20 sm:py-32 bg-white shadow-2xl rounded-t-[40px] mt-12 border-t-8 border-sky-100">
            <div class="container">
                <div class="scroll-fade-in">
                    <h2 class="text-4xl font-extrabold text-center mb-4 text-gray-800">Our Core Product Line</h2>
                    <p class="text-center text-xl text-gray-500 mb-16 max-w-3xl mx-auto">
                        The essential components driving innovation in robotics and complex systems worldwide.
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8" id="products-grid">
                    <!-- Products will be loaded by JavaScript -->
                </div>
                
                <div class="scroll-fade-in text-center mt-16">
                    <a href="#shop" class="inline-flex justify-center items-center px-8 py-3 border border-sky-500 text-base font-bold rounded-full shadow-lg text-sky-600 bg-white hover:bg-sky-50 transition duration-300 transform hover:scale-105">
                        Browse All Categories (<span id="product-count">8</span> Products)
                    </a>
                </div>
            </div>
        </section>

        <!-- Contact Form -->
        <section id="contact" class="py-20 sm:py-32">
            <div class="container">
                <div class="scroll-fade-in">
                    <h2 class="text-4xl font-extrabold text-center mb-4 text-gray-800">Get In Touch</h2>
                    <p class="text-center text-xl text-gray-500 mb-12 max-w-3xl mx-auto">
                        Need technical specifications or partnership details? Our team is ready to assist.
                    </p>
                </div>
                
                <div class="scroll-fade-in">
                    <div class="max-w-xl mx-auto bg-white p-8 sm:p-10 rounded-2xl shadow-2xl border border-gray-100">
                        <div class="space-y-6">
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-700">Full Name</label>
                                <input type="text" name="name" id="name" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-inner focus:ring-sky-500 focus:border-sky-500 transition duration-150">
                            </div>
                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-700">Work Email</label>
                                <input type="email" name="email" id="email" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-inner focus:ring-sky-500 focus:border-sky-500 transition duration-150">
                            </div>
                            <div>
                                <label for="message" class="block text-sm font-medium text-gray-700">Project Inquiry</label>
                                <textarea id="message" name="message" rows="4" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-inner focus:ring-sky-500 focus:border-sky-500 transition duration-150 resize-none"></textarea>
                            </div>
                            <div>
                                <button type="button" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-base font-bold text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition duration-150 transform hover:scale-[1.01]">
                                    Send Request
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <!-- Footer -->
<footer class="w-full bg-gray-900/90 backdrop-blur-md text-gray-400 py-10 mt-12 border-t border-gray-800 relative z-10">
  <div class="container text-center">
    <div class="flex flex-col items-center gap-3 mb-3">
      <!-- Replace colored RT box with your actual logo -->
      <img src="./logo.jpg" alt="RoboTechnique Logo" class="h-12 w-auto object-contain rounded-lg">

      <!-- Company Name -->
      <p class="text-xl font-extrabold tracking-tight text-gray-100">RoboTechnique</p>
    </div>

    <p class="text-sm mb-3">Engineered for the future of machines.</p>

    <div class="space-x-4 mb-2 text-sm">
      <a href="#" class="hover:text-white transition duration-150">Terms</a>
      <span class="text-gray-600">|</span>
      <a href="#" class="hover:text-white transition duration-150">Privacy</a>
      <span class="text-gray-600">|</span>
      <a href="#" class="hover:text-white transition duration-150">Careers</a>
    </div>

    <p class="mt-2 text-xs">&copy; 2025 RoboTechnique. All rights reserved.</p>
  </div>
</footer>

 <script>
    // Global Constants
    const AMAZON_LINK = "https://www.amazon.in/l/27943762031?me=A2NRJEQ5QH7HFB&tag=ShopReferral_7932ea5a-6372-4c7b-87f9-3d88e09214f4&ref=sf_seller_app_share_new_ls_srb";
    const WHATSAPP_NUMBER = '919718335330';

    // State Management
    let cart = [];
    let isAddingToCart = false;
    let checkoutDetails = { total: 0, itemCount: 0 };

    // DOM Elements
    const cartDrawer = document.getElementById('cart-drawer');
    const checkoutModal = document.getElementById('checkout-modal');
    const toast = document.getElementById('toast');
    const cartButton = document.getElementById('cart-button');
    const cartCount = document.getElementById('cart-count');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const header = document.getElementById('header');
    const productsGrid = document.getElementById('products-grid');

    // Product Data
    const products = [
        { title: "Quantum Motor Driver Pro", category: "Actuation", price: 4490, imgSrc: "https://placehold.co/400x300/e9d5ff/1e40af?text=Motor+Driver", imgAlt: "Motor Driver" },
        { title: "Vision-AI Sensor Array", category: "Sensing", price: 12999, imgSrc: "https://placehold.co/400x300/bae6fd/0369a1?text=AI+Vision", imgAlt: "AI Vision Sensor" },
        { title: "Dev Kit: Arm & Gripper", category: "Kits", price: 8990, imgSrc: "https://placehold.co/400x300/fed7aa/ea580c?text=Robotic+Kit", imgAlt: "Robotic Arm Kit" },
        { title: "Edge Control Unit v3", category: "Control", price: 5990, imgSrc: "https://placehold.co/400x300/d1d5db/4b5563?text=Control+Unit", imgAlt: "Control Unit" },
        { title: "Long-Range Lidar Unit", category: "Sensing", price: 15499, imgSrc: "https://placehold.co/400x300/fecaca/dc2626?text=Lidar+Unit", imgAlt: "Lidar Unit" },
        { title: "Modular Chassis Frame", category: "Kits", price: 6590, imgSrc: "https://placehold.co/400x300/d1fae5/065f46?text=Chassis+Frame", imgAlt: "Chassis Frame" },
        { title: "High-Speed DC Motor", category: "Actuation", price: 1890, imgSrc: "https://placehold.co/400x300/fff7ed/7c2d12?text=DC+Motor", imgAlt: "DC Motor" },
        { title: "12V Power Regulator", category: "Control", price: 2990, imgSrc: "https://placehold.co/400x300/e0f2f1/0f766e?text=Power+Regulator", imgAlt: "Power Regulator" },
    ];

    // Utility Functions
    function formatINR(amount) {
        return new Intl.NumberFormat('en-IN', {
            style: 'currency',
            currency: 'INR',
            minimumFractionDigits: 0,
            maximumFractionDigits: 0,
        }).format(amount);
    }

    function cleanPrice(price) {
        if (typeof price === 'number') return price;
        if (typeof price === 'string') {
            const cleaned = price.replace(/[â‚¹,]/g, '').trim();
            return parseFloat(cleaned) || 0;
        }
        return 0;
    }

    function updateCartCount() {
        const count = cart.reduce((total, item) => total + item.quantity, 0);
        cartCount.textContent = count;
        if (count > 0) {
            cartCount.classList.remove('hidden');
        } else {
            cartCount.classList.add('hidden');
        }
    }

    // Enhanced Add to Cart with Flying Animation
    function addToCart(product, buttonElement) {
        if (isAddingToCart) return;
        isAddingToCart = true;

        // Create a clean product object
        const cleanProduct = {
            title: product.title.replace(/'/g, "\\'"),
            category: product.category,
            price: product.price,
            imgSrc: product.imgSrc,
            imgAlt: product.imgAlt,
            quantity: 1
        };

        const existingItem = cart.find(item => item.title === cleanProduct.title);
        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            cart.push(cleanProduct);
        }
        updateCartCount();

        // Create flying animation
        createFlyingAnimation(buttonElement, product);

        // Show success toast
        showSuccessToast(product.title);

        // Re-render cart to show updated items
        setTimeout(() => {
            renderCartDrawer();
            isAddingToCart = false;
        }, 1000);
    }

    function createFlyingAnimation(buttonElement, product) {
        // Get button position
        const buttonRect = buttonElement.getBoundingClientRect();
        const cartButtonRect = cartButton.getBoundingClientRect();

        // Create flying element
        const flyingElement = document.createElement('div');
        flyingElement.className = 'flying-item';
        flyingElement.innerHTML = `
            <div class="flying-item-content">
                <img src="${product.imgSrc}" alt="${product.title}" class="flying-item-image">
                <div class="flying-item-glow"></div>
            </div>
        `;

        // Set initial position
        flyingElement.style.position = 'fixed';
        flyingElement.style.left = `${buttonRect.left + buttonRect.width / 2}px`;
        flyingElement.style.top = `${buttonRect.top + buttonRect.height / 2}px`;
        flyingElement.style.zIndex = '1000';
        flyingElement.style.pointerEvents = 'none';

        document.body.appendChild(flyingElement);

        // Animate to cart
        const animation = flyingElement.animate([
            {
                transform: 'translate(0, 0) scale(1)',
                opacity: 1
            },
            {
                transform: 'translate(0, -50px) scale(1.2)',
                opacity: 0.8,
                offset: 0.3
            },
            {
                transform: `translate(${cartButtonRect.left - buttonRect.left}px, ${cartButtonRect.top - buttonRect.top}px) scale(0.3)`,
                opacity: 0
            }
        ], {
            duration: 800,
            easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
        });

        // Remove element after animation
        animation.onfinish = () => {
            flyingElement.remove();
            // Add cart bounce effect
            cartButton.classList.add('cart-bounce');
            setTimeout(() => {
                cartButton.classList.remove('cart-bounce');
            }, 300);
        };
    }

    function showSuccessToast(productName) {
        // Update toast message with product name
        toast.innerHTML = `
            <i data-lucide="check-circle" class="w-5 h-5 text-green-300"></i>
            <span class="font-semibold">${productName} added to cart!</span>
        `;
        
        // Show toast with enhanced animation
        toast.classList.remove('hidden');
        toast.style.animation = 'slideInBounce 0.6s ease-out';
        
        // Re-initialize icons
        lucide.createIcons();

        // Hide toast after delay
        setTimeout(() => {
            toast.style.animation = 'slideOut 0.4s ease-in';
            setTimeout(() => {
                toast.classList.add('hidden');
                toast.style.animation = '';
            }, 400);
        }, 8000);
    }

    function updateQuantity(title, delta) {
        const item = cart.find(item => item.title === title);
        if (item) {
            item.quantity = Math.max(1, item.quantity + delta);
            updateCartCount();
            renderCartDrawer();
        }
    }

    function removeFromCart(title) {
        cart = cart.filter(item => item.title !== title);
        updateCartCount();
        renderCartDrawer();
        
        // Close cart if empty
        if (cart.length === 0) {
            closeCartDrawer();
        }
    }

    // UI Functions
    function openCartDrawer() {
        renderCartDrawer();
        cartDrawer.classList.remove('translate-x-full');
        document.body.style.overflow = 'hidden';
    }

    function closeCartDrawer() {
        cartDrawer.classList.add('translate-x-full');
        document.body.style.overflow = 'unset';
    }

    function openCheckoutModal() {
        const subtotal = cart.reduce((sum, item) => sum + (cleanPrice(item.price) * item.quantity), 0);
        const shipping = subtotal >= 5000 ? 0 : 100;
        const total = subtotal + shipping;
        const itemCount = cart.reduce((total, item) => total + item.quantity, 0);
        
        checkoutDetails = { total, itemCount };
        renderCheckoutModal();
        checkoutModal.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
    }

    function closeCheckoutModal() {
        checkoutModal.classList.add('hidden');
        document.body.style.overflow = 'unset';
    }

    // Render Functions
    function renderProducts() {
        productsGrid.innerHTML = products.map(product => `
            <div class="bg-white product-card-hover rounded-2xl p-6 shadow-xl border border-gray-100 hover:border-orange-200 scroll-fade-in">
                <div class="h-48 bg-gray-50 flex items-center justify-center p-4 rounded-xl mb-4 overflow-hidden">
                    <img src="${product.imgSrc}" alt="${product.imgAlt}" class="w-full h-full object-cover transition-transform duration-500 hover:scale-105">
                </div>
                <span class="text-xs font-semibold text-sky-500 uppercase tracking-wider mb-1 block">${product.category}</span>
                <h3 class="text-xl font-bold mb-2 truncate text-gray-800">${product.title}</h3>
                <p class="text-gray-500 mb-4 text-sm">Modular, high-speed unit designed for seamless integration.</p>
                <div class="flex justify-between items-center mb-4">
                    <span class="text-3xl font-extrabold text-gray-900">${formatINR(product.price)}</span>
                </div>
                
                <div class="flex flex-col space-y-2">
                    <button onclick="addToCart(${JSON.stringify(product).replace(/"/g, '&quot;')}, this)" class="add-to-cart-btn w-full flex items-center justify-center py-3 bg-orange-500 text-white rounded-xl font-bold hover:bg-orange-600 transition duration-300 shadow-lg shadow-orange-300/50 relative overflow-hidden">
                        <span class="relative z-10">Add to Cart</span>
                        <div class="absolute inset-0 bg-green-500 transform scale-x-0 transition-transform duration-300 origin-left"></div>
                    </button>
                    <a href="${AMAZON_LINK}" target="_blank" rel="noopener noreferrer" class="w-full flex items-center justify-center py-2 text-sm bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition duration-300 border border-gray-300">
                        <svg class='w-4 h-4 mr-2' viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.969 2.146c-1.303 0-2.492.515-3.376 1.399l-.023.023c-.883.884-1.398 2.073-1.398 3.376v11.756c0 1.25.5 2.387 1.34 3.23.844.843 1.98.023 3.23.023h4.636c1.25 0 2.386-.819 3.23-.843.843-.843 1.34-1.98 1.34-3.23V6.944c0-1.303-.515-2.492-1.398-3.376l-.023-.023c-.884-.884-2.073-1.399-3.376-1.399h-4.636zm-.322 13.91l-2.008-2.008 1.077-1.077 2.008 2.008-1.077 1.077zm3.111-3.111l-2.008-2.008 1.077-1.077 2.008 2.008-1.077 1.077z" fill="#FF9900"/>
                        </svg>
                        Buy on Amazon (Verified Seller)
                    </a>
                </div>
            </div>
        `).join('');
    }

    function renderCartDrawer() {
        const subtotal = cart.reduce((sum, item) => sum + (cleanPrice(item.price) * item.quantity), 0);
        const shipping = subtotal >= 5000 ? 0 : 100;
        const total = subtotal + shipping;

        let cartItemsHTML = '';
        
        if (cart.length === 0) {
            cartItemsHTML = `
                <div class="text-center py-12 text-gray-500">
                    <i data-lucide="shopping-cart" class="w-16 h-16 mx-auto mb-4 text-gray-300"></i>
                    <p class="text-lg font-semibold">Your cart is empty.</p>
                    <p class="text-sm">Start adding some robotics components!</p>
                </div>
            `;
        } else {
            cartItemsHTML = cart.map(item => `
                <div class="flex items-center space-x-4 p-4 border rounded-xl shadow-sm hover:shadow-md transition bg-white">
                    <img src="${item.imgSrc}" alt="${item.title}" class="w-16 h-16 object-cover rounded-lg flex-shrink-0 border">
                    <div class="flex-1 min-w-0">
                        <p class="font-semibold text-gray-800 truncate">${item.title}</p>
                        <p class="text-sm font-bold text-orange-500">${formatINR(cleanPrice(item.price) * item.quantity)}</p>
                        <p class="text-xs text-gray-500">Unit: ${formatINR(cleanPrice(item.price))}</p>
                    </div>
                    <div class="flex items-center space-x-2 flex-shrink-0">
                        <button onclick="updateQuantity('${item.title.replace(/'/g, "\\'")}', -1)" ${item.quantity <= 1 ? 'disabled' : ''} class="p-1 rounded-full text-gray-600 hover:bg-gray-200 ${item.quantity <= 1 ? 'opacity-50' : ''}">
                            <i data-lucide="minus" class="w-4 h-4"></i>
                        </button>
                        <span class="font-medium text-lg w-6 text-center">${item.quantity}</span>
                        <button onclick="updateQuantity('${item.title.replace(/'/g, "\\'")}', 1)" class="p-1 rounded-full text-gray-600 hover:bg-gray-200">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                        </button>
                        <button onclick="removeFromCart('${item.title.replace(/'/g, "\\'")}')" class="p-1 ml-2 rounded-full text-red-500 hover:bg-red-50 transition">
                            <i data-lucide="trash-2" class="w-4 h-4"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        }

        cartDrawer.innerHTML = `
            <div class="p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50">
                <h2 class="text-2xl font-extrabold text-gray-800 flex items-center">
                    <i data-lucide="shopping-cart" class="w-6 h-6 mr-2 text-orange-500"></i>
                    Your Cart
                </h2>
                <button onclick="closeCartDrawer()" class="p-2 rounded-full hover:bg-gray-200 transition">
                    <i data-lucide="x" class="w-6 h-6 text-gray-700"></i>
                </button>
            </div>

            <div class="flex-1 overflow-y-auto p-6 space-y-6">
                ${cartItemsHTML}
            </div>

            <div class="p-6 border-t border-gray-100 bg-gray-50/70 backdrop-blur-sm">
                <div class="space-y-2 mb-4 text-gray-700">
                    <div class="flex justify-between font-medium">
                        <span>Subtotal:</span>
                        <span>${formatINR(subtotal)}</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>Shipping:</span>
                        <span class="${shipping === 0 ? 'text-green-600 font-semibold' : ''}">
                            ${shipping === 0 ? 'FREE' : formatINR(shipping)}
                        </span>
                    </div>
                    <div class="flex justify-between text-xl font-extrabold text-gray-900 pt-2 border-t border-gray-200">
                        <span>Order Total:</span>
                        <span>${formatINR(total)}</span>
                    </div>
                </div>
                <button onclick="openCheckoutModal()" ${cart.length === 0 ? 'disabled' : ''} class="w-full flex items-center justify-center py-4 bg-sky-600 text-white rounded-xl font-bold text-lg hover:bg-sky-700 transition duration-300 shadow-xl shadow-sky-300/50 ${cart.length === 0 ? 'bg-gray-400' : ''}">
                    Checkout & Confirm via WhatsApp
                </button>
                <p class="text-center text-xs text-gray-500 mt-3">
                    Free shipping on orders over ${formatINR(5000)}.
                </p>
            </div>
        `;
        
        // Re-initialize Lucide icons in the drawer
        lucide.createIcons();
    }

    function renderCheckoutModal() {
        checkoutModal.innerHTML = `
            <div class="bg-white rounded-2xl w-full max-w-md m-4 shadow-3xl p-6 sm:p-8 transform transition-all duration-300 scale-100">
                <div class="flex justify-between items-center border-b pb-4 mb-6">
                    <h3 class="text-2xl font-extrabold text-gray-900">
                        Enter Phone Number
                    </h3>
                    <button onclick="closeCheckoutModal()" class="p-2 rounded-full hover:bg-gray-100 transition">
                        <i data-lucide="x" class="w-6 h-6 text-gray-600"></i>
                    </button>
                </div>
                
                <div class='space-y-6'>
                    <div class="flex items-center space-x-3 p-3 bg-sky-50 border-l-4 border-sky-400 rounded-lg">
                        <i data-lucide="phone" class='w-5 h-5 text-sky-600'></i>
                        <p class="text-sm text-gray-700 font-medium">
                            We use WhatsApp for final confirmation and secure payment link.
                        </p>
                    </div>

                    <div>
                        <label for="phone-input" class="block text-sm font-medium text-gray-700 mb-1">Mobile Number (10 digits)</label>
                        <div class="mt-1 flex rounded-lg shadow-sm">
                            <span class="inline-flex items-center px-3 rounded-l-lg border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm font-semibold">+91</span>
                            <input
                                type="tel"
                                id="phone-input"
                                maxlength="10"
                                class="flex-1 block w-full px-4 py-3 border border-gray-300 rounded-r-lg focus:ring-orange-500 focus:border-orange-500 transition duration-150"
                                placeholder="e.g., 9876543210"
                            >
                        </div>
                        <p id="phone-error" class="mt-2 text-sm text-red-600 hidden"></p>
                    </div>

                    <button onclick="proceedToWhatsApp()" class="w-full flex items-center justify-center py-3 bg-orange-500 text-white rounded-xl font-bold hover:bg-orange-600 transition duration-300 shadow-lg shadow-orange-300/50">
                        Confirm Details & Proceed to WhatsApp
                        <i data-lucide="arrow-right" class='w-5 h-5 ml-2'></i>
                    </button>
                </div>
            </div>
        `;
        
        lucide.createIcons();
    }

    function proceedToWhatsApp() {
        const phoneInput = document.getElementById('phone-input');
        const phoneError = document.getElementById('phone-error');
        const phone = phoneInput.value.replace(/\D/g, '');
        
        if (phone.length !== 10) {
            phoneError.textContent = 'Please enter a valid 10-digit Indian phone number.';
            phoneError.classList.remove('hidden');
            return;
        }
        
        phoneError.classList.add('hidden');
        
        let message = `*RoboTechnique Order Confirmation*\n\n`;
        message += `*Order Total:* ${formatINR(checkoutDetails.total)}\n`;
        message += `*Contact:* +91 ${phone}\n\n`;
        message += `*Items (${checkoutDetails.itemCount}):*\n`;
        
        cart.forEach((item, index) => {
            const itemPrice = cleanPrice(item.price);
            message += `${index + 1}. ${item.title} (Qty: ${item.quantity}, Price: ${formatINR(itemPrice * item.quantity)})\n`;
        });
        
        message += `\n*Please confirm this order and receive payment details via this chat.*`;

        const encodedMessage = encodeURIComponent(message);
        const whatsappURL = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodedMessage}`;
        
        window.open(whatsappURL, '_blank');
        closeCheckoutModal();
        closeCartDrawer();
        cart = [];
        updateCartCount();
    }

    // Animation and Scroll Effects
    function initScrollAnimations() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('scroll-visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.scroll-fade-in').forEach(el => {
            observer.observe(el);
        });
    }

    function initScrollHeader() {
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('header-scrolled');
            } else {
                header.classList.remove('header-scrolled');
            }
        });
    }

    // Three.js Background
    function initThreeBackground() {
        const mount = document.getElementById('three-background');
        if (!mount || !window.THREE) return;

        try {
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, mount.clientWidth / mount.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            
            renderer.setSize(mount.clientWidth, mount.clientHeight);
            renderer.setClearColor(0xffffff, 0);
            mount.appendChild(renderer.domElement);
            
            camera.position.z = 20;

            // Create simple particles
            const particles = new THREE.BufferGeometry();
            const particleCount = 100;
            const posArray = new Float32Array(particleCount * 3);

            for (let i = 0; i < particleCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 50;
            }

            particles.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            const particleMaterial = new THREE.PointsMaterial({
                size: 0.1,
                color: 0x87CEEB
            });

            const particleSystem = new THREE.Points(particles, particleMaterial);
            scene.add(particleSystem);

            function animate() {
                requestAnimationFrame(animate);
                particleSystem.rotation.y += 0.001;
                particleSystem.rotation.x += 0.0005;
                renderer.render(scene, camera);
            }

            animate();

            // Handle resize
            window.addEventListener('resize', () => {
                camera.aspect = mount.clientWidth / mount.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(mount.clientWidth, mount.clientHeight);
            });

        } catch (error) {
            console.warn('Three.js background failed to initialize:', error);
        }
    }

    // Event Listeners
    function initEventListeners() {
        // Cart button
        cartButton.addEventListener('click', openCartDrawer);
        
        // Mobile menu
        mobileMenuButton.addEventListener('click', () => {
            const isOpen = mobileMenu.classList.contains('h-0');
            if (isOpen) {
                mobileMenu.classList.remove('h-0', 'opacity-0');
                mobileMenu.classList.add('h-auto', 'opacity-100');
                mobileMenuButton.innerHTML = '<i data-lucide="x" class="h-6 w-6"></i>';
            } else {
                mobileMenu.classList.add('h-0', 'opacity-0');
                mobileMenu.classList.remove('h-auto', 'opacity-100');
                mobileMenuButton.innerHTML = '<i data-lucide="menu" class="h-6 w-6"></i>';
            }
            lucide.createIcons();
        });

        // Close cart when clicking overlay
        cartDrawer.addEventListener('click', (e) => {
            if (e.target === cartDrawer) {
                closeCartDrawer();
            }
        });

        // Close modal when clicking overlay
        checkoutModal.addEventListener('click', (e) => {
            if (e.target === checkoutModal) {
                closeCheckoutModal();
            }
        });
    }

    // Initialize everything when DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
        // Initialize Lucide icons
        lucide.createIcons();
        
        // Render products
        renderProducts();
        
        // Initialize animations and effects
        initScrollAnimations();
        initScrollHeader();
        initEventListeners();
        
        // Initialize Three.js background
        setTimeout(initThreeBackground, 100);
        
        // Update product count
        document.getElementById('product-count').textContent = products.length;
        
        // Initialize empty cart drawer
        renderCartDrawer();
    });

    // Make functions globally available
    window.addToCart = addToCart;
    window.updateQuantity = updateQuantity;
    window.removeFromCart = removeFromCart;
    window.openCartDrawer = openCartDrawer;
    window.closeCartDrawer = closeCartDrawer;
    window.openCheckoutModal = openCheckoutModal;
    window.closeCheckoutModal = closeCheckoutModal;
    window.proceedToWhatsApp = proceedToWhatsApp;
</script>

<style>
    /* Add these new styles to your existing CSS */

    /* Flying Animation Styles */
    .flying-item {
        pointer-events: none;
    }

    .flying-item-content {
        position: relative;
        width: 60px;
        height: 60px;
    }

    .flying-item-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 12px;
        border: 2px solid #f97316;
        box-shadow: 0 8px 25px rgba(249, 115, 22, 0.4);
    }

    .flying-item-glow {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 80px;
        height: 80px;
        background: radial-gradient(circle, rgba(249, 115, 22, 0.6) 0%, rgba(249, 115, 22, 0) 70%);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        animation: pulseGlow 0.8s ease-out;
    }

    @keyframes pulseGlow {
        0% {
            transform: translate(-50%, -50%) scale(0.8);
            opacity: 0;
        }
        50% {
            transform: translate(-50%, -50%) scale(1.2);
            opacity: 1;
        }
        100% {
            transform: translate(-50%, -50%) scale(1);
            opacity: 0;
        }
    }

    /* Cart Bounce Animation */
    .cart-bounce {
        animation: cartBounce 0.3s ease-in-out;
    }

    @keyframes cartBounce {
        0%, 100% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.2);
        }
    }

    /* Enhanced Toast Animations */
    @keyframes slideInBounce {
        0% {
            transform: translateX(100%);
            opacity: 0;
        }
        60% {
            transform: translateX(-10px);
            opacity: 1;
        }
        80% {
            transform: translateX(5px);
        }
        100% {
            transform: translateX(0);
            opacity: 1;
        }
    }

    @keyframes slideOut {
        0% {
            transform: translateX(0);
            opacity: 1;
        }
        100% {
            transform: translateX(100%);
            opacity: 0;
        }
    }

    /* Add to Cart Button Animation */
    .add-to-cart-btn:active {
        transform: scale(0.95);
    }

    /* Success Checkmark Animation */
    .success-check {
        animation: checkmark 0.5s ease-in-out;
    }

    @keyframes checkmark {
        0% {
            transform: scale(0);
            opacity: 0;
        }
        50% {
            transform: scale(1.2);
        }
        100% {
            transform: scale(1);
            opacity: 1;
        }
    }

    /* Enhanced Toast Styling */
    #toast {
        background: linear-gradient(135deg, #059669 0%, #10b981 100%);
        border-color: #34d399;
        box-shadow: 0 10px 25px rgba(5, 150, 105, 0.3);
    }
</style>

    <!-- ðŸ›’ Cart Drawer -->
    <div id="cart-drawer" class="fixed top-0 right-0 h-full w-80 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 ease-in-out z-50 flex flex-col">
        <div class="flex items-center justify-between px-5 py-4 border-b border-gray-200">
            <h2 class="text-2xl font-bold text-sky-600">Your Cart</h2>
            <button onclick="closeCartDrawer()" class="text-gray-500 hover:text-gray-800 text-2xl font-bold">&times;</button>
        </div>

        <div id="cart-items" class="flex-1 overflow-y-auto p-5 space-y-4"></div>

        <div class="border-t border-gray-200 p-5">
            <div class="flex justify-between text-lg font-semibold mb-3">
                <span>Total:</span>
                <span id="cart-total">â‚¹0</span>
            </div>
            <button onclick="openCheckoutModal()" class="w-full bg-sky-600 hover:bg-sky-700 text-white py-2 rounded-lg font-medium transition">Checkout</button>
        </div>
    </div>

    <!-- ðŸ’³ Checkout Modal -->
    <div id="checkout-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden justify-center items-center z-50">
        <div class="bg-white rounded-2xl shadow-2xl p-6 w-96 relative">
            <button onclick="closeCheckoutModal()" class="absolute top-3 right-3 text-gray-500 hover:text-gray-800 text-xl font-bold">&times;</button>
            <h2 class="text-2xl font-bold mb-4 text-sky-600">Checkout</h2>
            <p class="mb-4">Proceed to complete your order via WhatsApp.</p>
            <button onclick="proceedToWhatsApp()" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg font-medium transition">Proceed to WhatsApp</button>
        </div>
    </div>
    <!-- âœ… Toast Notification -->
    <div id="toast" class="fixed top-20 right-6 z-[60] p-4 bg-sky-600 text-white rounded-xl shadow-2xl flex items-center space-x-3 border-b-4 border-orange-300">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap w-5 h-5 animate-pulse">
        <path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"/>
  </svg>
  <span class="font-semibold">Item added to cart!</span>
</div>
</body>
</html>